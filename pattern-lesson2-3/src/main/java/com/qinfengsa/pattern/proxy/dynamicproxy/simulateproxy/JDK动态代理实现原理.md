1、拿到被代理类的引用，并且获取它的所有的接口（反射获取）。

2、JDK Proxy类重新生成一个新的类，实现了被代理类所有接口的方法。

3、动态生成Java代码，把增强逻辑加入到新生成代码中。

4、编译生成新的Java代码的class文件。

5、加载并重新运行新的class，得到类就是全新类。